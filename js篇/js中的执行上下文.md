### 什么是执行上下文

### 什么时候创建执行上下文 
当js引擎执行到全局和函数体还有eval代码的时候都会创建执行上下文。而对于每个执行上下文，都有三个重要属性：

一、变量对象(Variable object，VO)
    
    变量对象是与执行上下文相关的数据作用域，存储了在上下文中定义的变量和函数声明。
    在全局上下文中的变量对象就是全局对象。
    
    在函数上下文中，我们用活动对象(activation object, AO)来表示变量对象。活动对象是在进入函数上下文时刻被创建的，它通过函数的 arguments 属性初始化。arguments 属性值是 Arguments 对象。

    执行上下文的代码会分为两个阶段执行：
    1.进入执行上下文： 这个时候代码还没执行，变量对象包括：函数的所有形参（如果形参没有值的话默认为undefined）;函数声明,如果这个时候已经存在相同的属性名，则覆盖掉;变量的声明，如果这个时候已经有了相同的变量名，则不会对已有的产生影响。
    
    2.代码执行
    
二、作用域链(Scope chain)


三、this
### 执行上下文栈
接下来问题来了，我们写的函数多了去了，如何管理创建的那么多执行上下文呢？
所以 JavaScript 引擎创建了执行上下文栈（Execution context stack，ECS）来管理执行上下文。

试想当 JavaScript 开始要解释执行代码的时候，最先遇到的就是全局代码，所以初始化的时候首先就会向执行上下文栈压入一个全局执行上下文，我们用 globalContext 表示它，并且只有当整个应用程序结束的时候，ECStack 才会被清空，所以程序结束之前， ECStack 最底部永远有个 globalContext。

当执行一个函数的时候，就会创建一个执行上下文，并且压入执行上下文栈，当函数执行完毕的时候，就会将函数的执行上下文从栈中弹出。

